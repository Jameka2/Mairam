<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title> Happy Birthday Maryamâ¤ </title>
  <style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  background-color: black; /* Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
}
#intro-slideshow,
#overlay,
#fireworks {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  margin: 0;
  padding: 0;
}
    /* Reset + base */
    *{box-sizing:border-box;margin:0;padding:0}
    html, body {
  height: 100%;
  width: 100%;
  overflow: hidden; /* ÙŠÙ…Ù†Ø¹ Ø£ÙŠ Scroll */
  touch-action: none; /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
}

  /* Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø§Ù„Ø³Ø§Ù‚Ø·Ø© */
  .heart {
    position: fixed;
    top: -10px;
    color: pink;
    font-size: 20px;
    animation: fall linear forwards;
    user-select: none;
  }

  @keyframes fall {
    to {
      transform: translateY(110vh) rotate(360deg);
      opacity: 0;
    }
  }
    body{
      font-family: 'Segoe UI', Tahoma, Roboto, 'Noto Naskh Arabic', sans-serif;
      background: radial-gradient(ellipse at center, #0b1220 0%, #05060a 70%);
      color:#fff;
      overflow:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

.cake .number {
  position: absolute;
  left: 50%;
  top: 34px;
  transform: translateX(-0%);
  font-weight: 900;
  font-size: 56px;
  color: #fff;
  letter-spacing: 4px;
  text-shadow: 
    0 0 15px #ffb347,
    0 0 25px #ffcc33,
    0 0 40px #ff6600,
    0 6px 18px rgba(0, 0, 0, 0.6);
  animation: glow 1.5s ease-in-out infinite alternate;
}

/* âœ¨ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø±Ø§Øª ÙÙˆÙ‚ Ø§Ù„Ø±Ù‚Ù… 20 âœ¨ */
.cake .number::before,
.cake .number::after,
.cake .number span {
  content: "";
  position: absolute;
  top: -20px;
  left: 50%;
  width: 10px;
  height: 10px;
  background: radial-gradient(circle, #ffb347 0%, rgba(255, 255, 255, 0) 70%);
  border-radius: 50%;
  animation: sparkFly 1.4s ease-in-out infinite;
  opacity: 0.9;
  filter: drop-shadow(0 0 10px #ffb347) drop-shadow(0 0 25px #ff6600);
  pointer-events: none;
}
#fxHearts{
  position:fixed;
  inset:0;
  z-index:9999; /* Ø£Ø¹Ù„Ù‰ Ø­Ø§Ø¬Ø© ÙÙˆÙ‚ ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± */
  pointer-events:none;
  mix-blend-mode: lighten; /* ÙŠØ®Ù„ÙŠ Ø§Ù„Ù‚Ù„ÙˆØ¨ ØªØ¨Ø§Ù† ÙÙˆÙ‚ Ø¨Ø³ Ù…Ù† ØºÙŠØ± Ù…Ø§ ØªØºØ·ÙŠ Ø§Ù„ÙƒÙ„Ø§Ù… */
}
.cake .number::after {
  left: 53%;
  animation-delay: 0.5s;
}

.cake .number span {
  left: 47%;
  animation-delay: 0.8s;
}

@keyframes sparkFly {
  0% {
    transform: translate(-50%, 0) scale(1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -35px) scale(1.3);
    opacity: 0.8;
  }
  100% {
    transform: translate(-50%, -65px) scale(0.9);
    opacity: 0;
  }
}

/* âœ¨ ØªÙˆÙ‡Ø¬ Ø®ÙÙŠÙ ÙˆÙ†Ø§Ø¹Ù… Ù„Ø±Ù‚Ù… 20 âœ¨ */
@keyframes softGlow {
  0%, 100% {
    opacity: 0.7;
    text-shadow: 0 0 8px #ffaa00, 0 0 16px #ff6600;
  }
  80% {
    opacity: 1;
    text-shadow: 0 0 15px #ffcc00, 0 0 30px #ff9900;
  }
}

.cake .number {
  animation: softGlow 3s ease-in-out infinite;
}


/* Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø¨ØªØ§Ø¹Ùƒ Ø²ÙŠ Ù…Ø§ Ù‡Ùˆ */


    /* Stars background */
    .stars{position:fixed;inset:0;pointer-events:none}
    .star{position:absolute;width:2px;height:2px;background:rgba(255,255,255,0.9);border-radius:50%;opacity:0}

    /* dark intro overlay */
    .overlay{
      position:fixed;inset:0;background:rgba(0,0,0,0.92);display:flex;align-items:center;justify-content:center;z-index:50;flex-direction:column;gap:18px
    }
    .overlay h1{font-size:64px;letter-spacing:6px;color:#ffd9e2;text-shadow:0 6px 30px rgba(255,120,160,0.08)}
    .btn{background:linear-gradient(90deg,#ff6b9a,#ffd36b);border:none;padding:18px 36px;border-radius:999px;font-weight:700;font-size:20px;cursor:pointer;box-shadow:0 10px 30px rgba(255,107,154,0.18);transition:transform .18s}
    .btn:active{transform:translateY(2px) scale(.99)}

    /* main stage */
    .stage{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}

    /* glowing name */
    .name-wrap{position:absolute;top:5%;left:50%;transform:translateX(-50%);text-align:center;z-index:40}
    .eng-name{font-size:96px;font-weight:900;letter-spacing:6px;color:#fff;text-transform:uppercase;filter:drop-shadow(0 12px 40px rgba(255,80,160,0.25));}
    .eng-name .char{display:inline-block;transform-origin:center;animation:pop 1.6s ease forwards}
    @keyframes pop{0%{transform:translateY(40px) rotate(0) scale(.3);opacity:0}50%{transform:translateY(-6px) rotate(-3deg) scale(1.08);opacity:1}100%{transform:translateY(0) rotate(0) scale(1)}}
    /* subtle float after pop */
    .eng-name .char.float{animation:float 3s ease-in-out infinite}
    @keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}

    .subtitle{margin-top:8px;font-size:20px;color:#ffdfe8;opacity:.95}

    /* falling hearts */
    .hearts {
  position: fixed; /* Ø«Ø§Ø¨Øª Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø´Ø§Ø´Ø© */
  inset: 0;
  pointer-events: none;
  z-index: 30;
}
    .heart{position:absolute;width:28px;height:28px;background:transparent}
    .heart svg{width:100%;height:100%;filter:drop-shadow(0 8px 20px rgba(255,80,130,0.18))}

    /* Happy text */
    .happy{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);font-size:64px;font-weight:800;z-index:35;opacity:0;transform-origin:center;}
    .happy.show{animation:popHappy .9s cubic-bezier(.2,.9,.2,1) forwards}
    @keyframes popHappy{0%{transform:scale(.4) rotateX(90deg);opacity:0}60%{transform:scale(1.08) rotateX(0);opacity:1}100%{transform:scale(1)}}

    /* typed Arabic text box */
    .card{position:relative;max-width:820px;padding:28px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter: blur(6px);box-shadow:0 8px 40px rgba(0,0,0,0.6);z-index:34}
    .arabic-text{font-size:20px;line-height:1.8;color:#ffeef4;text-align:right;direction:rtl;min-height:140px}
    .typed-cursor{display:inline-block;width:10px;background:linear-gradient(180deg,#fff0,#fff);margin-right:6px;animation:blink 1s steps(2) infinite}
    @keyframes blink{50%{opacity:0}}

    /* cake */
    .cake-wrap{position:absolute;bottom:8%;left:50%;transform:translateX(-50%);z-index:33}
    .cake{width:260px;height:auto}
    .cake .number{position:absolute;left:50%;top:34px;transform:translateX(-0%);font-weight:900;font-size:56px;color:#fff;letter-spacing:4px;text-shadow:0 6px 18px rgba(0,0,0,0.6)}
    /* âœ¨ Ø­Ø±ÙƒØ© Ø¸Ù‡ÙˆØ± ÙˆØ§Ø®ØªÙØ§Ø¡ Ø±Ù‚Ù… 20 âœ¨ */
   @keyframes fadeGlow {
     0%, 100% {
       opacity: 0.2;
       transform: translateX(-0%) scale(1);
     }
     50% {
       opacity: 1;
       transform: translateX(-0%) scale(1.1);
     }
   }
    .cake .number {
      animation: glow 1.5s ease-in-out infinite alternate,
                 fadeGlow 3s ease-in-out infinite;
    }
    /* new number glow and appear/disappear */
    .cake .number.show{color:#fff;animation:riseGlow .9s ease forwards, pulse 1.2s ease-in-out infinite}
    @keyframes riseGlow{0%{transform:translateX(-52%) translateY(10px) scale(.8);opacity:0}50%{transform:translateX(-50%) translateY(-6px) scale(1.08);opacity:1}100%{transform:translateX(-50%) translateY(0) scale(1)}}
    @keyframes pulse{0%{text-shadow:0 6px 18px rgba(255,200,60,0.08)}50%{text-shadow:0 12px 40px rgba(255,140,30,0.22)}100%{text-shadow:0 6px 18px rgba(255,200,60,0.08)}}

    /* fireworks canvas */
    #fireworks{position:absolute;inset:0;z-index:45;pointer-events:none}

    /* footer controls */
    .controls{position:fixed;bottom:18px;left:18px;z-index:60;display:flex;gap:10px;align-items:center}
    .small-btn{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:999px;color:#fff;cursor:pointer}

    /* responsive */
    @media (max-width:700px){
  .eng-name{
    font-size:46px;      /* Ø£Ù‚Ù„ Ù…Ù† 96px */
    white-space: nowrap;  /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø­Ø±ÙˆÙ ØªÙ†Ø²Ù„ ØªØ­Øª Ø¨Ø¹Ø¶ */
  }
      .happy{font-size:36px}
      .cake{width:180px}
      .card{padding:18px}
    }
  </style>
</head>
<body>
  <canvas id="fxHearts"></canvas>
  <div class="stars" id="stars"></div>
<!-- Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„ØµÙˆØ± -->
<div id="intro-slideshow" style="position:fixed;inset:0;background:black;display:flex;align-items:center;justify-content:center;z-index:9999;overflow:hidden;">
  <img id="intro-image" src="" style="width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity 1.2s;">
  <audio id="intro-audio" src="Kol.mp3" preload="auto"></audio>
</div>

  <div class="overlay" id="overlay">
    <h1>Ø§Ø­ØªÙØ§Ù„</h1>
    <button class="btn" id="startBtn">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„Ø§Ø­ØªÙØ§Ù„ ğŸ‰</button>
  </div>

  <div class="stage" aria-hidden="true">
    <div class="name-wrap" id="nameWrap" style="opacity:0">
      <div class="eng-name" id="engName"></div>
      <div class="subtitle">ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ø·ÙŠØ¨Ø© ÙŠØ§ Ù…Ø±ÙŠÙˆÙ…Ø©ğŸ‚ğŸ’•</div>
    </div>
    <div style="position:relative;z-index:34;margin-top:-30px;display:flex;justify-content:center;width:100%">
      <div class="card" id="arabicCard" style="display:none">
        <div class="arabic-text" id="arabicText"></div>
      </div>
    </div>
    <div class="happy" id="happyText">Happy Birthday Maryam !</div>

    <div class="hearts" id="hearts"></div>

    <canvas id="fireworks"></canvas>

    <div class="cake-wrap" id="cakeWrap">
      <!-- Simple cake SVG -->
      <div style="position:relative;display:inline-block">
        <svg class="cake" viewBox="0 -40 200 200" xmlns="http://www.w3.org/2000/svg">
          <g>
            <rect x="20" y="80" width="160" height="70" rx="16" fill="#ffd6e0"/>
            <rect x="40" y="60" width="120" height="30" rx="12" fill="#ff9fb0"/>
            <ellipse cx="100" cy="150" rx="80" ry="14" fill="rgba(0,0,0,0.12)"/>
            <!-- frosting -->
            <path d="M40 60 C55 30, 145 30, 160 60 L160 80 L40 80 Z" fill="#ffb6c9"/>
            <!-- candles as small rectangles -->
            <rect x="86" y="36" width="6" height="24" rx="2" fill="#fff"/>
            <rect x="98" y="36" width="6" height="24" rx="2" fill="#fff"/>
            <rect x="110" y="36" width="6" height="24" rx="2" fill="#fff"/>
            <!-- flames -->
            <g fill="#ffd36b">
              <path d="M89 34 C91 28, 95 28, 96 34 C95 30, 91 30, 89 34"/>
              <path d="M101 34 C103 28, 107 28, 108 34 C107 30, 103 30, 101 34"/>
              <path d="M113 34 C115 28, 119 28, 120 34 C119 30, 115 30, 113 34"/>
            </g>
            <!-- number 20 -->
            <text x="100" y="28" text-anchor="middle" font-size="56" font-weight="900" fill="#ffd36b" class="number" style="filter:drop-shadow(0 8px 24px rgba(255,180,60,0.28));">20</text>
          </g>
        </svg>
      </div>
    </div>

    <div style="position:relative;z-index:34;margin-top:40px;display:flex;justify-content:center;width:100%">
      </div>
    </div>

  </div>

  <div class="controls">
    <button class="small-btn" id="playAudio">ØªØ´ØºÙŠÙ„ Ø£ØºÙ†ÙŠØ©</button>
    <button class="small-btn" id="replayBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ù„</button>
  </div>

  <!-- audio (user should replace src with their chosen song file) -->
  <audio id="song" src="Kol.mp3" preload="auto"></audio>

  <script>
    // ---------- configuration ----------
    const englishName = 'Mairam'; // displayed English name
const typedArabic = `
Ù…Ø±ÙŠÙˆÙ…ØªÙŠ Ø­Ø¨ÙŠØ¨ØªÙŠ ğŸŒ¹
Ù†Ù† Ø¹ÙŠÙˆÙ† Ø£Ø®ØªÙƒØŒ ÙˆÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ø·ÙŠØ¨Ø© ÙˆØ¨Ø®ÙŠØ± ÙŠØ§ Ø£Ø±Ù‚ Ù‚Ù„Ø¨ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ â¤ï¸

ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ù…Ø¹Ø§ÙŠØ§ØŒ
ÙˆØ£Ù‚Ø±Ø¨ Ø­Ø¯ Ù„Ù‚Ù„Ø¨ÙŠØŒ
ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ø§Ù„Ø­Ø¯ Ø§Ù„Ù„ÙŠ Ø¹Ù…Ø±ÙŠ Ù…Ø§ Ù‡Ø¹Ø±Ù Ø£Ø¹ÙˆÙ‘Ø¶Ù‡ ÙˆÙ„Ø§ Ø£Ù„Ø§Ù‚ÙŠ Ø²ÙŠÙ‡

Ø±Ø¨Ù†Ø§ ÙŠØ®Ù„ÙŠÙƒÙŠ Ù„ÙŠØ§ ÙˆÙ…Ø§ ÙŠØ­Ø±Ù…Ù†ÙŠØ´ Ù…Ù†Ùƒ Ø£Ø¨Ø¯Ù‹Ø§ØŒ
ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ø¹ÙŠÙˆÙ†ÙŠØŒ
ÙˆØ£Ø®ØªÙŠ Ø§Ù„Ù„ÙŠ Ù…Ø§ Ø¬Ø§Ø¨ØªÙ‡Ø§Ø´ Ø£Ù…ÙŠ Ø¨Ø³ Ø¬Ø§Ø¨Ù‡Ø§ Ø§Ù„Ù‚Ø¯Ø± Ø¨Ù…Ø­Ø¨Ø© ØµØ§ÙÙŠØ© ğŸ’—

ÙˆØ¹Ù‚Ø¨Ø§Ù„ Ù…Ù„ÙŠÙˆÙ† Ø³Ù†Ø© ÙˆØ¥Ø­Ù†Ø§ Ù…Ø¹ Ø¨Ø¹Ø¶ØŒ
Ø¨Ù†Ø¶Ø­ÙƒØŒ ÙˆÙ†Ø·Ù…Ù†ØŒ ÙˆÙ†ÙƒÙˆÙ† Ø³Ù†Ø¯ Ù„Ø¨Ø¹Ø¶ Ø¯Ø§ÙŠÙ…Ù‹Ø§ ğŸ’

Happy Birthday ÙŠØ§ Ù…Ø±ÙŠÙˆÙ…ØªÙŠ ğŸ‚ğŸŒ¸
`;

const finalMessage = "Happy Birthday Ù…Ø±ÙŠÙˆÙ…ØªÙŠ â™¥â™¥";

let index = 0;
const textElement = document.getElementById("arabicText");

function typeText() {
  if (index < typedArabic.length) {
    textElement.innerHTML += typedArabic.charAt(index);
    index++;
    setTimeout(typeText, 60); // Ø³Ø±Ø¹Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø©
  } else {
    // Ø¨Ø¹Ø¯ Ù…Ø§ ÙŠØ®Ù„Øµ Ø§Ù„ÙƒÙ„Ø§Ù… ÙƒÙ„Ù‡ ÙŠØ³ØªÙ†Ù‰ Ø«Ø§Ù†ÙŠØªÙŠÙ†
    setTimeout(clearAndShowFinal, 2000);
  }
}

function clearAndShowFinal() {
  textElement.innerHTML = ""; // ÙŠÙ…Ø³Ø­ Ø§Ù„ÙƒÙ„Ø§Ù… ÙƒÙ„Ù‡
  typeFinalMessage(); // ÙŠÙƒØªØ¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©
}

function typeFinalMessage() {
  let i = 0;
  function writeFinal() {
    if (i < finalMessage.length) {
      textElement.innerHTML += finalMessage.charAt(i);
      i++;
      setTimeout(writeFinal, 70);
    }
  }
  writeFinal();
}

typeText();


    // ---------- helpers ----------
    const overlay = document.getElementById('overlay');
    const startBtn = document.getElementById('startBtn');
    const engNameEl = document.getElementById('engName');
    const nameWrap = document.getElementById('nameWrap');
    const heartsContainer = document.getElementById('hearts');
    const arabicCard = document.getElementById('arabicCard');
    const arabicTextEl = document.getElementById('arabicText');
    const happyText = document.getElementById('happyText');
    const fireworksCanvas = document.getElementById('fireworks');
    const playAudioBtn = document.getElementById('playAudio');
    const song = document.getElementById('song');
    const replayBtn = document.getElementById('replayBtn');

    // Set default - empty audio src. User should drag their mp3 into song.src or press play to load local file.
    //song.src = 'Kol.mp3'; // <-- Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ Ù‡Ù†Ø§ Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ
    // ---------- detect mobile ----------
    const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    // Ù‚Ù„Ù„ Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ§Ù„Ù‚Ù„ÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
    const starCount = isMobile ? 60 : 120;   // Ø¨Ø¯Ù„ 120 Ù†Ø¬Ù…Ø© Ø¥Ù„Ù‰ 60
    let heartIntervalTime = isMobile ? 1200 : 350; // Ø£Ø¨Ø·Ø£ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„ØªØ®ÙÙŠÙ lag
    // Ù„Ù…Ø§ ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù‚Ù„ÙˆØ¨
    function startHearts() { 
      heartInterval = setInterval(spawnHeart, heartIntervalTime); 
    }
    // ---------- stars background ----------
    const stars = document.getElementById('stars');
    for(let i=0;i<starCount;i++){
      const s = document.createElement('div');s.className='star';
      const x = Math.random()*100;const y = Math.random()*100;const size = Math.random()*2+1;const delay = Math.random()*6;
      s.style.left = x+'%';s.style.top = y+'%';s.style.width = size+'px';s.style.height = size+'px';
      s.style.opacity = Math.random()*0.9; s.style.animation = `twinkle ${2+Math.random()*4}s ${delay}s infinite`;
      stars.appendChild(s);
    }
    const twinkleStyle = document.createElement('style');twinkleStyle.textContent = `@keyframes twinkle{0%{opacity:0.1}50%{opacity:0.9}100%{opacity:0.1}}`;
    document.head.appendChild(twinkleStyle);

    // ---------- build english name letters with staggered animation ----------
    function showEnglishName(){
      engNameEl.innerHTML = '';
      const letters = Array.from(englishName);
      letters.forEach((ch,i)=>{
        const span = document.createElement('span');span.className='char';span.textContent = ch;
        span.style.animationDelay = (i*0.08)+'s';
        engNameEl.appendChild(span);
      });
      nameWrap.style.opacity = 1;
      // after pop finishes, add float class so letters keep moving
      setTimeout(()=>{
        const chars = engNameEl.querySelectorAll('.char');
        chars.forEach(c=> c.classList.add('float'));
      }, 1800 + letters.length*80);
    }
function spawnHeart() {
  const h = document.createElement('div');
  h.className = 'heart';

  const size = Math.floor(Math.random() * 28) + 18;
  h.style.width = size + 'px';
  h.style.height = size + 'px';
  h.style.left = (Math.random() * 100) + '%';
  h.style.top = '0';

  // ğŸ’–ğŸŒ¹ Ù‚Ù„ÙˆØ¨ ÙˆÙˆØ±Ø¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
  const isHeart = Math.random() > 0.5;
  if (isHeart) {
    // â¤ï¸ SVG Ø§Ù„Ù‚Ù„Ø¨
    h.innerHTML = `
      <svg viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg">
        <path d="M23.6,0c-2.7,0-5.1,1.5-6.6,3.7C15.5,1.5,13.1,0,10.4,0C4.7,0,0,4.7,0,10.4
        c0,7.8,11.3,13.8,16,19.2c4.7-5.4,16-11.4,16-19.2C32,4.7,27.3,0,23.6,0z" fill="#ff718f"/>
      </svg>`;
} else {
  // ğŸŒ¹ ÙˆØ±Ø¯Ø© emoji Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø¨Ø¯Ù„ SVG
  h.innerText = 'ğŸŒ¹';
}
  heartsContainer.appendChild(h);

  const duration = 6 + Math.random() * 6;
  const sway = Math.random() > 0.5 ? 1 : -1; // Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªÙ…Ø§ÙŠÙ„

  h.animate([
    { transform: `translateX(0px) translateY(0) rotate(0deg)`, opacity: 1 },
    { transform: `translateX(${20 * sway}px) translateY(${innerHeight / 2}px) rotate(${sway * 10}deg)`, opacity: 0.7 },
    { transform: `translateX(${-20 * sway}px) translateY(${innerHeight + 60}px) rotate(${sway * 20}deg)`, opacity: 0.1 }
  ], {
    duration: duration * 1000,
    easing: 'linear'
  }).onfinish = () => h.remove();
}
    let heartInterval;
    function startHearts(){ heartInterval = setInterval(spawnHeart,350); }
    function stopHearts(){ clearInterval(heartInterval); }
// ====== Ù‚Ù„ÙˆØ¨ ÙƒÙˆØ¯ Ù‡Ø§Ø¬Ø± (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ctxHearts ÙˆØ§Ù„Ù€ particlesHearts) ======
// ====== Ù†Ø³Ø®Ø© Ù…Ø·Ø§Ø¨Ù‚Ø© Ù…Ù† Ù‚Ù„ÙˆØ¨ Ù‡Ø§Ø¬Ø± ======
const fxCanvasHearts = document.getElementById('fxHearts');
const ctxHearts = fxCanvasHearts.getContext('2d');
let WHearts = fxCanvasHearts.width = window.innerWidth;
let HHearts = fxCanvasHearts.height = window.innerHeight;
let particlesHearts = [];

function randHearts(min, max) { return Math.random() * (max - min) + min; }

function makeParticleHearts(x, y) {
  return {
    x: x || randHearts(0, WHearts),
    y: y || -10,
vx: randHearts(-1, 1),
vy: randHearts(0.8, 2),
r: randHearts(5, 12),

    life: randHearts(60, 140),
    t: 0,
    type: Math.random() < 0.6 ? 'heart' : 'conf'
  };
}

function drawParticleHearts(p) {
  ctxHearts.save();
  ctxHearts.translate(p.x, p.y);
  if (p.type === 'heart') {
    ctxHearts.scale(0.9, 0.9);
    ctxHearts.beginPath();
    ctxHearts.moveTo(0, -p.r / 6);
    ctxHearts.bezierCurveTo(p.r, -p.r * 1.1, p.r * 1.5, p.r / 3, 0, p.r);
    ctxHearts.bezierCurveTo(-p.r * 1.5, p.r / 3, -p.r, -p.r * 1.1, 0, -p.r / 6);
    ctxHearts.fillStyle = `rgba(255,${Math.floor(randHearts(80,230))},${Math.floor(randHearts(120,255))},${Math.max(0.35,1-p.t/p.life)})`;
    ctxHearts.fill();
  } else {
    ctxHearts.rotate(p.t * 0.1);
    ctxHearts.fillStyle = `rgba(${Math.floor(randHearts(120,255))},${Math.floor(randHearts(120,255))},${Math.floor(randHearts(120,255))},${Math.max(0.45,1-p.t/p.life)})`;
    ctxHearts.fillRect(-p.r / 2, -p.r / 2, p.r, p.r * 0.6);
  }
  ctxHearts.restore();
}

function stepHearts() {
  ctxHearts.clearRect(0, 0, WHearts, HHearts);
  for (let i = particlesHearts.length - 1; i >= 0; i--) {
    const p = particlesHearts[i];
    p.t++;
    p.vy += 0.02;
    p.x += p.vx; p.y += p.vy;
    drawParticleHearts(p);
    if (p.y > HHearts + 50 || p.t > p.life) particlesHearts.splice(i, 1);
  }
  requestAnimationFrame(stepHearts);
}
stepHearts();

window.addEventListener('resize', () => {
  WHearts = fxCanvasHearts.width = window.innerWidth;
  HHearts = fxCanvasHearts.height = window.innerHeight;
});




function typeArabic(text, container, onDone){
  container.innerHTML = '';
  const words = text.split(' ');
  let i = 0;

  function next(){
    if(i >= words.length){ 
      if(onDone) onDone(); 
      return; 
    }

    const w = words[i];
    const span = document.createElement('span');
    span.textContent = w + (i < words.length - 1 ? ' ' : '');
    container.appendChild(span);

    // Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„ÙƒÙ„Ù…Ø©
    span.style.opacity = 0; 
    span.style.transform = 'translateY(6px)';
    span.animate(
      [
        { opacity: 0, transform: 'translateY(6px)' },
        { opacity: 1, transform: 'translateY(0)' }
      ],
      { duration: 360, fill: 'forwards' }
    );

    // â¤ï¸ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø¨Ø¹Ø¯ Ù…Ø§ Ø§Ù„ÙƒÙ„Ù…Ø© ØªØ¸Ù‡Ø± ÙØ¹Ù„ÙŠÙ‹Ø§
    setTimeout(() => {
      const rect = span.getBoundingClientRect();
      if(rect && rect.width > 0){
        for (let j = 0; j < 3; j++) {
          particlesHearts.push(makeParticleHearts(
            rect.left + randHearts(0, rect.width),
            rect.top + randHearts(-10, 10)
          ));
        }
      }
    }, 100); // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„ÙƒÙ„Ù…Ø©

    i++;
    setTimeout(next, 280 + Math.random() * 160);
  }

  next();
}
    // ---------- simple fireworks canvas (small) ----------
    const fw = fireworksCanvas; const ctx = fw.getContext('2d');
    function resizeCanvas(){fw.width = innerWidth; fw.height = innerHeight}
    window.addEventListener('resize', resizeCanvas); resizeCanvas();

    let fireworks = [];
    function createFirework(x,y){
      const count = 18 + Math.floor(Math.random()*18);
      for(let i=0;i<count;i++){
        fireworks.push({x,y,vx:(Math.random()-0.5)*6,vy:(Math.random()-0.5)*6,color:`hsl(${Math.random()*360},80%,60%)`,life:40+Math.floor(Math.random()*40)})
      }
      // if near cake area, flash number
      const cakeRect = document.querySelector('.cake').getBoundingClientRect();
      if(Math.abs(y - (cakeRect.top + cakeRect.height/2)) < 200){ flashCakeNumber(); }
    }
    function animateFW(){
      ctx.clearRect(0,0,fw.width,fw.height);
      for(let i=fireworks.length-1;i>=0;i--){
        const p = fireworks[i];
        p.x += p.vx; p.y += p.vy; p.vy += 0.04; p.life--;
        ctx.globalCompositeOperation = 'lighter';
        ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x,p.y,Math.max(1,p.life/15),0,Math.PI*2); ctx.fill();
        if(p.life<=0) fireworks.splice(i,1);
      }
      requestAnimationFrame(animateFW);
    }
    animateFW();

    // ---------- cake number flash helper ----------
    function flashCakeNumber(){
      const num = document.querySelector('.cake .number');
      if(!num) return;
      num.classList.add('show');
      setTimeout(()=> num.classList.remove('show'), 1200);
    }

    // ---------- main sequence when start pressed ----------
    function startSequence(){
      overlay.style.transition='opacity .6s'; overlay.style.opacity=0; setTimeout(()=>overlay.remove(),700);

      // show name
      showEnglishName();

      // start hearts
      startHearts();

      // fireworks bursts at intervals
      const fwInterval = setInterval(()=>{
        createFirework(200+Math.random()*(innerWidth-400), 80+Math.random()*180);
      },900);

      // show happy after short delay
      setTimeout(()=>{ happyText.classList.add('show'); }, 900);

      // show arabic typed text after happy
      setTimeout(()=>{
        arabicCard.style.display='block';
        typeArabic(typedArabic, arabicTextEl, ()=>{});
      }, 1700);

      // stop fireworks after 12s and hearts after 18s
      setTimeout(()=>{ clearInterval(fwInterval); }, 12000);
      setTimeout(()=>{ stopHearts(); }, 18000);

      // create big final fireworks and sparkle around cake
      setTimeout(()=>{
        createFirework(innerWidth/2 - 120, innerHeight/3);
        createFirework(innerWidth/2 + 120, innerHeight/3);
      }, 4000);

      // after sequence allow replay
      replayBtn.disabled = false;
    }

    startBtn.addEventListener('click', ()=>{
      startSequence();
      // try to autoplay audio if src present
      if(song.src){ song.play().catch(()=>{/*autoplay blocked*/}); }
    });

    // play audio button behavior
    playAudioBtn.addEventListener('click', ()=>{
      if(!song.src){
        alert('Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ù…Ù„Ù Ø§Ù„Ø£ØºÙ†ÙŠØ© ÙÙŠ Ø¹Ù†ØµØ± Ø§Ù„Ù€ audio Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø£Ùˆ Ø³Ø­Ø¨ Ù…Ù„Ù Ù…Ø­Ù„ÙŠ Ø¹Ø¨Ø± Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·ÙˆØ± ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.');
        return;
      }
      song.currentTime = 0; song.play().catch(()=>alert('ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ø­Ø¸ÙˆØ± - Ø³Ù…Ø­ Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­.'));
    });

    // replay
    replayBtn.addEventListener('click', ()=>{ location.reload(); });

    // allow dropping audio file onto page to set song.src (convenience)
    window.addEventListener('dragover',e=>e.preventDefault());
    window.addEventListener('drop',e=>{
      e.preventDefault();
      const f = e.dataTransfer.files && e.dataTransfer.files[0];
      if(f){
        const url = URL.createObjectURL(f);
        song.src = url; song.load(); alert('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ø£ØºÙ†ÙŠØ© Ù…Ø­Ù„ÙŠÙ‹Ø§. Ø§Ø¶ØºØ· "ØªØ´ØºÙŠÙ„ Ø£ØºÙ†ÙŠØ©" Ù„ØªØ´ØºÙŠÙ„Ù‡Ø§.');
      }
    });

    // initial small hearts to hint
    for(let i=0;i<6;i++){ setTimeout(spawnHeart, i*300); }
    // start continuous hearts as user wanted
    startHearts();

    // small accessibility: pressing space/enter triggers start when overlay present
    window.addEventListener('keydown',e=>{ if((e.key===' '||e.key==='Enter') && document.getElementById('overlay')){ startBtn.click(); } });

    // ======= Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„ØµÙˆØ± =======
    const introImages = [
      '777.jpg',
      'img1.jpg',
      'img2.jpg',
      'img3.jpg',
      'img4.jpg',
      'img5.jpg',
      'img6.jpg',
      'img7.jpg',
      'img8.jpg',
      'img9.jpg',
   
    ]; // â† Ø¶Ø¹ Ù‡Ù†Ø§ Ø±ÙˆØ§Ø¨Ø· ØµÙˆØ±Ùƒ

    const introDiv = document.getElementById('intro-slideshow');
    const introImg = document.getElementById('intro-image');
    let current = 0;

    function showNextImage() {
    if (current >= introImages.length) {
      introDiv.style.transition = 'opacity 1s';
      introDiv.style.opacity = 0;
      setTimeout(() => {
        introDiv.remove();
        // Ø¨Ø¹Ø¯ Ù…Ø§ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© ØªØ®Ù„Øµ â†’ ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø§Ø­ØªÙØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
        startSequence();
        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ© Ù„Ùˆ Ù…Ø´ Ø´ØºØ§Ù„Ø©
        const song = document.getElementById('song');
        if (song.paused) song.play().catch(()=>{});
      }, 1200);
      return;
    }

      introImg.src = introImages[current];
      introImg.style.opacity = 1;
      setTimeout(() => { introImg.style.opacity = 0; }, 2000);
      current++;
      setTimeout(showNextImage, 3000);
    }

window.addEventListener('load', () => {
  const song = document.getElementById('song');
  song.src = 'Kol.mp3'; // â† Ø§Ø³Ù… Ù…Ù„Ù Ø§Ù„Ø£ØºÙ†ÙŠØ© Ø¨ØªØ§Ø¹Ùƒ
  song.loop = false;
  song.load(); // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ© ÙÙˆØ±Ù‹Ø§

  // Ù†Ø­Ø§ÙˆÙ„ ØªØ´ØºÙŠÙ„Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ØŒ ÙˆÙ„Ùˆ Ø§Ù„Ù…ØªØµÙØ­ Ø±ÙØ¶ Ù†Ø³ØªÙ†Ù‰ Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„
  song.play().catch(() => {
    console.log('âš ï¸ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ. Ù‡ÙŠØ´ØªØºÙ„ Ø£ÙˆÙ„ Ù…Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙ„Ù…Ø³ Ø§Ù„Ø´Ø§Ø´Ø©.');
    const resumeAudio = () => {
      song.play().catch(()=>{});
      document.removeEventListener('click', resumeAudio);
      document.removeEventListener('touchstart', resumeAudio);
    };
    document.addEventListener('click', resumeAudio);
    document.addEventListener('touchstart', resumeAudio);
  });

  document.getElementById('overlay').style.display = 'none';
  showNextImage();
});

window.addEventListener("DOMContentLoaded", () => {
  const song = document.getElementById("song");
  const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

  if (!isMobile) {
    // Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± â†’ ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
    song.volume = 0.8;
    song.play().catch(() => console.warn("Autoplay blocked"));
  } else {
    // Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ â†’ Ø²Ø± ØµØºÙŠØ± ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ ÙŠØ³Ø§Ø±
    const playBtn = document.createElement("button");
    playBtn.textContent = "ğŸµ ØªØ´ØºÙŠÙ„";
    Object.assign(playBtn.style, {
      position: "fixed",
      bottom: "20px",
      left: "20px",
      background: "linear-gradient(135deg, #ff8fab, #ff69b4)",
      color: "#fff",
      fontSize: "15px",
      padding: "10px 16px",
      borderRadius: "20px",
      border: "none",
      cursor: "pointer",
      zIndex: 99999,
      fontWeight: "600",
      boxShadow: "0 0 10px rgba(255,182,193,0.8)",
      animation: "pulse 1.6s infinite",
      textShadow: "0 0 5px rgba(255,255,255,0.7)",
    });
    document.body.appendChild(playBtn);

    // ØªØ£Ø«ÙŠØ± ØªÙˆÙ‡Ù‘Ø¬ Ø¨Ø³ÙŠØ·
    const style = document.createElement("style");
    style.textContent = `
      @keyframes pulse {
        0% { transform: scale(1); box-shadow: 0 0 10px rgba(255,182,193,0.6); }
        50% { transform: scale(1.1); box-shadow: 0 0 16px rgba(255,192,203,1); }
        100% { transform: scale(1); box-shadow: 0 0 10px rgba(255,182,193,0.6); }
      }
    `;
    document.head.appendChild(style);

    playBtn.addEventListener("click", () => {
      song.volume = 0.8;
      song.play().catch(() => alert("ØªØ¹Ø°Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª"));
      playBtn.remove();
    });
  }

  // === Ù‚Ù„ÙˆØ¨ ØµØºÙŠØ±Ø© ØªØ·Ù„Ø¹ Ø­ÙˆØ§Ù„ÙŠÙ† Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ ===
const fxCanvas = document.createElement('canvas');
fxCanvas.id = 'fx';
fxCanvas.style.position = 'fixed';
fxCanvas.style.top = '0';
fxCanvas.style.left = '0';
fxCanvas.style.width = '100%';
fxCanvas.style.height = '100%';
fxCanvas.style.pointerEvents = 'none';
fxCanvas.style.zIndex = '100'; // ÙÙˆÙ‚ Ø§Ù„Ù†Øµ
document.body.appendChild(fxCanvas);

const ctx = fxCanvas.getContext('2d');
let W = fxCanvas.width = window.innerWidth;
let H = fxCanvas.height = window.innerHeight;
let particles = [];

function rand(min, max) { return Math.random() * (max - min) + min; }
function makeParticle(x, y) {
  return { x: x || rand(0, W), y: y || -10, vx: rand(-1.5, 1.5), vy: rand(1, 3), r: rand(6, 18), life: rand(60, 140), t: 0 };
}
function resize() {
  W = fxCanvas.width = window.innerWidth;
  H = fxCanvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);

function drawParticle(p) {
  ctx.beginPath();
  const g = ctx.createLinearGradient(p.x, p.y - p.r, p.x, p.y + p.r);
  g.addColorStop(0, 'rgba(255,150,180,1)');
  g.addColorStop(1, 'rgba(255,100,150,0)');
  ctx.fillStyle = g;
  ctx.moveTo(p.x, p.y);
  ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
  ctx.fill();
}
function step() {
  ctx.clearRect(0, 0, W, H);
  for (let i = particles.length - 1; i >= 0; i--) {
    const p = particles[i];
    p.x += p.vx;
    p.y += p.vy;
    p.vy -= 0.02;
    p.t++;
    if (p.t > p.life) { particles.splice(i, 1); continue; }
    drawParticle(p);
  }
  requestAnimationFrame(step);
}
step();
});
  </script>
</body>
</html>
